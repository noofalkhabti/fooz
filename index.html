<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ | Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</title>

<!-- PDF -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
  :root{
    /* â€œÙØ±Ø§ÙŠØ­ÙŠØ©â€ */
    --bg1:#fff3fb;
    --bg2:#f1fff6;
    --bg3:#f3f6ff;

    --p1:#7c3aed;   /* Ø¨Ù†ÙØ³Ø¬ÙŠ */
    --p2:#06b6d4;   /* Ø³Ù…Ø§ÙˆÙŠ */
    --p3:#22c55e;   /* Ø£Ø®Ø¶Ø± */
    --p4:#f59e0b;   /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */

    --text:#111827;
    --muted:#6b7280;
    --card: rgba(255,255,255,.88);
    --border: rgba(17,24,39,.10);
    --shadow: 0 18px 45px rgba(0,0,0,.10);
    --radius: 22px;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: system-ui,-apple-system,"Segoe UI",Tahoma,Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,.14), transparent 60%),
      radial-gradient(1000px 600px at 90% 20%, rgba(6,182,212,.14), transparent 55%),
      radial-gradient(900px 500px at 30% 95%, rgba(34,197,94,.12), transparent 55%),
      linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
    min-height:100vh;
  }

  .wrap{max-width:980px; margin:28px auto; padding:14px;}
  .card{
    background:var(--card);
    border:1px solid var(--border);
    box-shadow:var(--shadow);
    border-radius:var(--radius);
    padding:22px;
    backdrop-filter: blur(6px);
  }
  .hidden{display:none}

  .title{
    display:flex; gap:12px; align-items:center; justify-content:space-between;
    margin-bottom:10px;
  }
  h2{margin:0; color:var(--p1); letter-spacing:.2px;}
  .chip{
    display:inline-flex; align-items:center; gap:8px;
    border:1px solid var(--border);
    background:rgba(255,255,255,.7);
    border-radius:999px;
    padding:8px 12px;
    color:var(--muted);
    font-size:13px;
    white-space:nowrap;
  }

  /* Inputs (ØªÙØ§Ø¹Ù„ÙŠØ© Ø£ÙƒØ«Ø±) */
  .grid{
    display:grid; grid-template-columns: 1fr 1fr;
    gap:12px;
  }
  @media (max-width:760px){ .grid{grid-template-columns:1fr;} }

  .field{position:relative;}
  .field input{
    width:100%;
    padding:14px 14px 14px 42px;
    border-radius:16px;
    border:1.5px solid rgba(17,24,39,.12);
    outline:none;
    background:rgba(255,255,255,.9);
    font-size:15px;
    transition:.2s ease;
  }
  .field input:focus{
    border-color: rgba(124,58,237,.45);
    box-shadow: 0 0 0 5px rgba(124,58,237,.12);
    transform: translateY(-1px);
  }
  .icon{
    position:absolute; left:12px; top:50%; transform:translateY(-50%);
    width:18px; height:18px; opacity:.55;
  }
  .hint{color:var(--muted); font-size:13px; line-height:1.8;}

  /* Buttons */
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center;}
  .grow{flex:1}
  button{
    border:none; cursor:pointer;
    border-radius:16px;
    padding:12px 16px;
    font-size:15px;
    color:white;
    background: linear-gradient(135deg,var(--p1),var(--p2));
    box-shadow: 0 10px 20px rgba(124,58,237,.20);
    transition:.2s ease;
  }
  button:hover{transform: translateY(-1px);}
  button:disabled{opacity:.55; cursor:not-allowed; transform:none;}
  button.secondary{
    background: rgba(255,255,255,.8);
    color:var(--text);
    border:1px solid var(--border);
    box-shadow:none;
  }

  /* Progress */
  .progressBox{
    height:12px; background:#e5e7eb; border-radius:999px; overflow:hidden;
    border:1px solid rgba(17,24,39,.06);
  }
  .progressFill{
    height:100%;
    width:0%;
    background: linear-gradient(90deg,var(--p3),var(--p2),var(--p1));
    border-radius:999px;
    transition: width .35s ease;
  }

  /* Slide */
  .slideHead{
    display:flex; gap:12px; align-items:center; justify-content:space-between;
    margin-bottom:12px;
  }
  .slideNo{
    font-weight:700; color:var(--p1);
    background: rgba(124,58,237,.10);
    padding:8px 12px; border-radius:999px;
    border:1px solid rgba(124,58,237,.18);
  }
  .slideBody{
    background: rgba(255,255,255,.7);
    border:1px solid var(--border);
    border-radius:18px;
    padding:16px;
    line-height:2.0;
  }
  .divider{
    height:1px; background:rgba(17,24,39,.10); margin:14px 0;
  }

  /* Quiz area */
  .quizBox{
    background: rgba(255,255,255,.85);
    border:1px solid var(--border);
    border-radius:18px;
    padding:16px;
  }
  .qTitle{
    margin:0 0 10px;
    font-weight:800;
    color:var(--p1);
  }
  .opt{
    display:block;
    padding:12px 12px;
    border-radius:14px;
    border:1px solid rgba(17,24,39,.10);
    background: rgba(255,255,255,.9);
    margin:10px 0;
    cursor:pointer;
    transition:.15s ease;
  }
  .opt:hover{transform: translateY(-1px); border-color: rgba(6,182,212,.35);}
  .opt input{margin-left:10px; transform: scale(1.05);}

  /* Timer under questions */
  .timerWrap{
    margin-top:12px;
    display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  }
  .timerBar{
    flex:1;
    min-width:180px;
    height:10px;
    background:#e5e7eb;
    border-radius:999px;
    overflow:hidden;
    border:1px solid rgba(17,24,39,.06);
  }
  .timerFill{
    height:100%;
    width:100%;
    background: linear-gradient(90deg,var(--p4),var(--p2));
    transition: width 1s linear;
  }
  .timerText{
    font-weight:800;
    padding:8px 12px;
    border-radius:999px;
    border:1px solid rgba(17,24,39,.10);
    background: rgba(255,255,255,.85);
  }

  /* Certificate (Ù…Ù‚Ø§Ø±Ø¨ Ù„Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø³Ù…ÙŠ) */
  .certShell{
    margin-top:14px;
    padding:18px;
    border-radius:22px;
    background: rgba(255,255,255,.75);
    border:1px solid rgba(17,24,39,.10);
  }
  .certificate{
    position:relative;
    border-radius:18px;
    background:white;
    border:1px solid rgba(17,24,39,.12);
    overflow:hidden;
  }
  .certTop{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    padding:22px 22px 0 22px;
  }
  .certLogo{
    width:140px; height:auto;
    opacity:.95;
  }
  .certDecor{
    position:absolute; inset:auto -120px -140px auto;
    width:360px; height:360px;
    border-radius:50%;
    background: radial-gradient(circle at 30% 30%, rgba(6,182,212,.25), transparent 60%),
                radial-gradient(circle at 70% 70%, rgba(124,58,237,.20), transparent 60%);
    transform: rotate(18deg);
  }
  .certBody{
    padding:10px 40px 34px;
    text-align:center;
  }
  .certTitle{
    display:inline-block;
    margin:10px 0 8px;
    padding:10px 16px;
    border-radius:14px;
    background: rgba(124,58,237,.10);
    border:1px solid rgba(124,58,237,.18);
    color:var(--p1);
    font-weight:900;
    font-size:30px;
  }
  .certLine{
    width:280px; max-width:80%;
    height:4px; margin:10px auto 18px;
    background: linear-gradient(90deg,var(--p2),var(--p1));
    border-radius:999px;
    opacity:.9;
  }
  .certText{font-size:18px; line-height:2.1; color:#374151;}
  .certName{
    font-size:30px;
    font-weight:950;
    color:#111827;
    margin:8px 0;
  }
  .certCourse{
    font-size:22px;
    font-weight:900;
    color:var(--p1);
    margin:10px 0 0;
  }
  .certMeta{
    margin-top:16px;
    display:flex; justify-content:center; gap:12px; flex-wrap:wrap;
  }
  .metaBox{
    padding:10px 14px;
    border-radius:14px;
    border:1px solid rgba(17,24,39,.10);
    background: rgba(255,255,255,.85);
    font-weight:700;
    color:#111827;
  }
  .certFooter{
    display:flex; justify-content:space-between; gap:14px; flex-wrap:wrap;
    padding:16px 22px 22px;
    border-top:1px solid rgba(17,24,39,.10);
    color:#374151;
  }
  .sig{
    min-width:260px;
  }
  .sig .role{font-weight:800; color:var(--p1);}
  .sig .name{font-weight:700;}
  .sig .line{
    margin-top:10px;
    height:2px; width:220px;
    background: rgba(17,24,39,.25);
    border-radius:999px;
  }

  /* Print only certificate */
  @media print{
    body{background:white}
    .wrap{max-width:none; margin:0; padding:0}
    .card:not(#result){display:none !important;}
    #resultActions, #afterCertActions, #scoreText, #resultTitle{display:none !important;}
    .certShell{border:none; background:white; padding:0; margin:0;}
    .certificate{border:none}
  }
</style>
</head>

<body>
  <div class="wrap">

    <!-- Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
    <div class="card" id="registration">
      <div class="title">
        <h2>Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ | Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</h2>
        <span class="chip">Ø´Ø±Ø· Ø§Ù„Ù†Ø¬Ø§Ø­: <b>85%</b></span>
      </div>

      <div class="grid">
        <div class="field">
          <span class="icon">ğŸ‘¤</span>
          <input id="name" type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" />
        </div>
        <div class="field">
          <span class="icon">ğŸ«</span>
          <input id="org" type="text" placeholder="Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„" />
        </div>
        <div class="field" style="grid-column:1/-1;">
          <span class="icon">âœ‰ï¸</span>
          <input id="email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" />
        </div>
      </div>

      <p class="hint">Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨.</p>

      <div class="row">
        <button onclick="startTraining()">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ¯Ø±ÙŠØ¨</button>
        <button class="secondary" onclick="demoFill()">ØªØ¹Ø¨Ø¦Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
        <div class="grow"></div>
        <span class="chip">ğŸ¯ Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø«Ù… Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø¹Ø¯ ÙƒÙ„ Ø´Ø±ÙŠØ­Ø©</span>
      </div>
    </div>

    <!-- Ø§Ù„ØªØ¯Ø±ÙŠØ¨ -->
    <div class="card hidden" id="training">
      <div class="slideHead">
        <div class="grow">
          <div class="progressBox"><div class="progressFill" id="progressFill"></div></div>
          <div class="hint" style="margin-top:8px">
            Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙŠØ¹ÙƒØ³ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ + Ø£Ø³Ø¦Ù„Ø© ÙƒÙ„ Ø´Ø±ÙŠØ­Ø©
          </div>
        </div>
        <div class="slideNo">Ø´Ø±ÙŠØ­Ø© <span id="slideIndex">1</span>/<span id="slideTotal">1</span></div>
      </div>

      <h2 id="slideTitle"></h2>
      <div class="slideBody" id="slideContent"></div>

      <div class="divider"></div>

      <!-- Ø²Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Øª Ø§Ù„Ø´Ø±ÙŠØ­Ø© -->
      <div class="row" id="startQuizRow">
        <span class="chip">âœ… Ø§Ù‚Ø±Ø¦ÙŠ Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø£ÙˆÙ„Ù‹Ø§ Ø«Ù… Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</span>
        <div class="grow"></div>
        <button onclick="startQuizForSlide()" id="startQuizBtn">Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
      </div>

      <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Ø³Ø¤Ø§Ù„ ÙˆØ§Ø­Ø¯ ÙƒÙ„ Ù…Ø±Ø©) -->
      <div class="quizBox hidden" id="quizArea">
        <div class="row">
          <div class="chip">Ø³Ø¤Ø§Ù„ <b><span id="qNo">1</span></b>/3</div>
          <div class="grow"></div>
          <div class="chip">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†: <b><span id="scoreNow">0</span></b></div>
        </div>

        <h3 class="qTitle" id="qTitle"></h3>
        <div id="options"></div>

        <!-- Ø§Ù„ÙˆÙ‚Øª ØªØ­Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
        <div class="timerWrap">
          <div class="timerBar"><div class="timerFill" id="timerFill"></div></div>
          <div class="timerText">â³ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timerText">00:00</span></div>
        </div>

        <div class="row" style="margin-top:14px">
          <button class="secondary" onclick="backToSlide()" id="backToSlideBtn">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´Ø±ÙŠØ­Ø©</button>
          <div class="grow"></div>
          <button onclick="nextQuestion()" id="nextQuestionBtn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>

        <div class="hint" id="quizHint" style="margin-top:8px;">ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„.</div>
      </div>

      <div class="row" style="margin-top:14px">
        <button class="secondary" onclick="prevSlide()" id="prevSlideBtn">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <div class="grow"></div>
        <button class="secondary" onclick="nextSlideOnly()" id="nextSlideBtn">ØªØ®Ø·ÙŠ Ù„Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
      </div>
      <div class="hint">Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙØ¶Ù‘Ù„ Ø¹Ø¯Ù… Ø§Ù„ØªØ®Ø·ÙŠ Ø­ØªÙ‰ Ù„Ø§ ØªÙ‚Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­.</div>
    </div>

    <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© + Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© -->
    <div class="card hidden" id="result">
      <div class="title">
        <h2 id="resultTitle">Ø§Ù„Ù†ØªÙŠØ¬Ø©</h2>
        <span class="chip">Ø¨Ø¯ÙˆÙ† QR ÙÙŠ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© âœ…</span>
      </div>

      <p id="scoreText"></p>

      <div class="row" id="resultActions">
        <button onclick="buildCertificate()" id="buildCertBtn">Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
        <button class="secondary" onclick="restart()">Ø¥Ø¹Ø§Ø¯Ø©</button>
      </div>

      <div class="certShell hidden" id="certShell">
        <div class="certificate" id="certificate">
          <div class="certDecor"></div>

          <div class="certTop">
            <img id="certLogo" class="certLogo" alt="Logo" />
            <div class="hint" style="text-align:left; max-width:240px;">
              ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø´Ø¹Ø§Ø± Ø¨ØµÙˆØ±Ø© Ø±Ø³Ù…ÙŠØ© (PNG) Ù…Ù† Ø¬Ù‡ØªÙƒ.
            </div>
          </div>

          <div class="certBody">
            <div class="certTitle">Ø´Ù‡Ø§Ø¯Ø© Ø¥ØªÙ…Ø§Ù… ØªØ¯Ø±ÙŠØ¨</div>
            <div class="certLine"></div>

            <div class="certText">
              Ù†ÙÙƒØ±Ù‘Ù… Ø§Ù„Ù…ØªØ¯Ø±Ø¨/Ø©:
              <div class="certName" id="certName">â€”</div>
              Ø´ÙƒØ±Ù‹Ø§ Ù„ÙƒÙ… Ù„Ø¥ØªÙ…Ø§Ù…ÙƒÙ… Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (ØºÙŠØ± Ø§Ù„Ù…ØªØ²Ø§Ù…Ù†)
            </div>

            <div class="certCourse" id="certCourse">Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</div>

            <div class="certMeta">
              <div class="metaBox">Ø§Ù„Ù†Ø³Ø¨Ø©: <span id="certPercent">â€”</span></div>
              <div class="metaBox">Ø§Ù„ØªØ§Ø±ÙŠØ®: <span id="certDate">â€”</span></div>
              <div class="metaBox">Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„: <span id="certOrg">â€”</span></div>
            </div>
          </div>

          <div class="certFooter">
            <div class="sig">
              <div class="role">Ù…Ø¯ÙŠØ±/Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨</div>
              <div class="name">Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</div>
              <div class="line"></div>
            </div>

            <div class="sig" style="text-align:left;">
              <div class="role">Ø±Ù…Ø² Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</div>
              <div class="name" id="certId" style="font-family:ui-monospace,monospace;">â€”</div>
              <div class="line" style="margin-left:auto;"></div>
            </div>
          </div>
        </div>

        <div class="row" style="margin-top:12px" id="afterCertActions">
          <button onclick="downloadPDF()">ØªØ­Ù…ÙŠÙ„ PDF</button>
          <button class="secondary" onclick="window.print()">Ø·Ø¨Ø§Ø¹Ø©</button>
          <div class="grow"></div>
          <span class="chip">Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø¹Ù†Ø¯ Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</span>
        </div>
      </div>
    </div>

  </div>

<script>
/* =========================
   Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©
========================= */
const PASS_PERCENT = 85;

/* Ø±Ø§Ø¨Ø· Google Apps Script Web App Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Ù…Ù‡Ù…) */
const LOG_ENDPOINT = "PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE";

/* Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) */
const CERT_LOGO_URL = ""; // Ù…Ø«Ø§Ù„: "https://.../logo.png" Ø£Ùˆ Ø§ØªØ±ÙƒÙŠÙ‡ ÙØ§Ø¶ÙŠ Ù„Ø¹Ø±Ø¶ Ù†Øµ Ø¨Ø¯Ù„ Ø´Ø¹Ø§Ø±

/* =========================
   Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ + Ø£Ø³Ø¦Ù„Ø© (3 Ù„ÙƒÙ„ Ø´Ø±ÙŠØ­Ø©)
   (Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯)
========================= */
const slides = [
  {
    title:"Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©",
    content:`ÙŠØ¹Ø¯ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ Ù…Ù† Ø£Ù‡Ù… Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© Ø§Ù„ØªÙŠ ØªØ³Ù‡Ù… ÙÙŠ ØªÙ†Ù…ÙŠØ© Ø´Ø®ØµÙŠØ© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨ØµÙˆØ±Ø© Ù…ØªÙƒØ§Ù…Ù„Ø©ØŒ Ø­ÙŠØ« Ù„Ø§ ÙŠÙ‚ØªØµØ± Ø¯ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø¹Ù„Ù‰ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙÙ‚Ø·ØŒ Ø¨Ù„ ÙŠÙ…ØªØ¯ Ù„ÙŠØ´Ù…Ù„ Ø¨Ù†Ø§Ø¡ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø«Ù‚Ø§ÙÙŠØ© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„ÙÙ†ÙŠØ©. ÙˆØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠØ© Ø¹Ù„Ù‰ Ø§ÙƒØªØ´Ø§Ù Ù…ÙˆØ§Ù‡Ø¨ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆØªÙ†Ù…ÙŠØªÙ‡Ø§ØŒ ÙƒÙ…Ø§ ØªØ³Ù‡Ù… ÙÙŠ ØªØ¹Ø²ÙŠØ² Ø±ÙˆØ­ Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø§Ù†ØªÙ…Ø§Ø¡ Ù„Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ.`,
    secondsPerQuestion: 25,
    questions:[
      {q:"Ù…Ø§ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©ØŸ", a:["Ø­ØµØ± Ø¯ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙÙŠ Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª","ØªÙ†Ù…ÙŠØ© Ø´Ø®ØµÙŠØ© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¨Ø´ÙƒÙ„ Ù…ØªÙƒØ§Ù…Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø£Ù†Ø´Ø·Ø©","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ù„ØµØ§Ù„Ø­ Ø§Ù„ØªØ­ØµÙŠÙ„"], correct:1},
      {q:"Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠØ© ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰:", a:["Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨","Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ ÙˆØªÙ†Ù…ÙŠØªÙ‡Ø§","ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ø§ÙˆÙ†"], correct:1},
      {q:"Ù…Ù† Ø¢Ø«Ø§Ø± Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ:", a:["Ø¶Ø¹Ù Ø§Ù„Ø§Ù†ØªÙ…Ø§Ø¡","ØªØ¹Ø²ÙŠØ² Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø§Ù†ØªÙ…Ø§Ø¡","Ù…Ù†Ø¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©"], correct:1}
    ]
  },
  {
    title:"Ø§Ù„Ø±Ø¤ÙŠØ© ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©",
    content:`Ø§Ù„Ø±Ø¤ÙŠØ©: Ø¥Ø¹Ø¯Ø§Ø¯ Ø·Ø§Ù„Ø¨ Ù…Ø¨Ø¯Ø¹ ÙˆÙ…ØªÙ…ÙŠØ² ÙŠÙ…ØªÙ„Ùƒ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„ØªÙŠ ØªØ³Ø§Ø¹Ø¯Ù‡ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ Ù…Ø¹ Ù…Ø¬ØªÙ…Ø¹Ù‡.
Ø§Ù„Ø±Ø³Ø§Ù„Ø©: ØªÙ‚Ø¯ÙŠÙ… Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ£Ù†Ø´Ø·Ø© Ù…ØªÙ†ÙˆØ¹Ø© ØªØ³Ù‡Ù… ÙÙŠ ØªÙ†Ù…ÙŠØ© Ù‚Ø¯Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆÙ…ÙˆØ§Ù‡Ø¨Ù‡Ù…ØŒ ÙˆØªØ¹Ø²Ø² Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ© ÙˆØ§Ù„Ø³Ù„ÙˆÙƒÙŠØ© Ù„Ø¯ÙŠÙ‡Ù…ØŒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨ÙŠØ¦Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¬Ø§Ø°Ø¨Ø© ÙˆÙ…Ø­ÙØ²Ø©.`,
    secondsPerQuestion: 25,
    questions:[
      {q:"Ø§Ù„Ø±Ø¤ÙŠØ© ØªØ±ÙƒØ² Ø¹Ù„Ù‰:", a:["Ø·Ø§Ù„Ø¨ Ù…Ø¨Ø¯Ø¹ ÙˆÙ…ØªÙ…ÙŠØ²","ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‚ÙŠÙ…"], correct:0},
      {q:"Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰:", a:["ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª ÙˆØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‚ÙŠÙ…","Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ù†Ø´Ø·Ø©","Ø¹Ø²Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨"], correct:0},
      {q:"Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø±Ø³Ø§Ù„Ø©:", a:["Ù…Ø´ØªØªØ©","Ø¬Ø§Ø°Ø¨Ø© ÙˆÙ…Ø­ÙØ²Ø©","ØºÙŠØ± Ø¢Ù…Ù†Ø©"], correct:1}
    ]
  },
  {
    title:"Ø·Ø±ÙŠÙ‚Ø© ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø´Ø§Ø·",
    content:`ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ ÙˆØ¶Ø¹ Ø®Ø·Ø© Ù…Ù†Ø¸Ù…Ø© ØªØ´Ù…Ù„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ù…ÙŠÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ ÙˆÙ‚Ø¯Ø±Ø§ØªÙ‡Ù…ØŒ Ù…Ø¹ Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙˆØªÙˆÙÙŠØ± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ø¶Ù…Ø§Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£Ù‡Ø¯Ø§ÙÙ‡.`,
    secondsPerQuestion: 25,
    questions:[
      {q:"ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø´Ø§Ø· ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰:", a:["Ø®Ø·Ø© Ù…Ù†Ø¸Ù…Ø©","Ø§Ù„Ø§Ø±ØªØ¬Ø§Ù„ ÙÙ‚Ø·","Ù…Ù†Ø¹ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†"], correct:0},
      {q:"Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±Ø§Ø¹ÙŠ:", a:["Ù…ÙŠÙˆÙ„ ÙˆÙ‚Ø¯Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨","Ø±Ø£ÙŠ Ø´Ø®Øµ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·","Ø¥Ù‡Ù…Ø§Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨"], correct:0},
      {q:"Ù…Ù† Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­:", a:["ØºÙŠØ§Ø¨ Ø§Ù„Ø¥Ù…ÙƒØ§Ù†Ø§Øª","Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙˆØªÙˆÙÙŠØ± Ø§Ù„Ø¥Ù…ÙƒØ§Ù†Ø§Øª","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…"], correct:1}
    ]
  },
  {
    title:"Ø§Ù„Ø£Ù‡Ø¯Ø§Ù",
    content:`1) ØªÙ†Ù…ÙŠØ© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©. 2) ØªØ¹Ø²ÙŠØ² Ø±ÙˆØ­ Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ. 3) Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ ÙˆØ§Ù„Ù‚Ø¯Ø±Ø§Øª ÙˆØªÙ†Ù…ÙŠØªÙ‡Ø§. 4) Ø§Ø³ØªØ«Ù…Ø§Ø± Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙØ±Ø§Øº Ø¨Ù…Ø§ ÙŠÙÙŠØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨. 5) ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠØ© ÙˆØ§Ù„Ø³Ù„ÙˆÙƒÙŠØ©. 6) Ø±ÙØ¹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³ Ù„Ø¯Ù‰ Ø§Ù„Ø·Ù„Ø§Ø¨.`,
    secondsPerQuestion: 25,
    questions:[
      {q:"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠØ¹Ø¯ Ù‡Ø¯ÙÙ‹Ø§ Ù„Ù„Ù†Ø´Ø§Ø·ØŸ", a:["Ø±ÙØ¹ Ø§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³","ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¹Ø§ÙˆÙ†"], correct:0},
      {q:"ØªØ¹Ø²ÙŠØ² Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠØ© ÙˆØ§Ù„Ø³Ù„ÙˆÙƒÙŠØ© ÙŠØ¹ØªØ¨Ø±:", a:["Ù‡Ø¯ÙÙ‹Ø§","Ù„ÙŠØ³ Ù‡Ø¯ÙÙ‹Ø§","Ù…Ù…Ù†ÙˆØ¹Ù‹Ø§"], correct:0},
      {q:"Ø§Ø³ØªØ«Ù…Ø§Ø± ÙˆÙ‚Øª Ø§Ù„ÙØ±Ø§Øº ÙŠÙƒÙˆÙ†:", a:["Ø¨Ù…Ø§ ÙŠÙÙŠØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨","Ø¨Ù…Ø§ ÙŠØ¶Ø±Ù‡","Ø¨Ø¯ÙˆÙ† Ù‡Ø¯Ù"], correct:0}
    ]
  },
  {
    title:"Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ø¨Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬",
    content:`ÙŠØ±ØªØ¨Ø· Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ Ø¨Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø§Ø±ØªØ¨Ø§Ø·Ù‹Ø§ ÙˆØ«ÙŠÙ‚Ù‹Ø§ØŒ Ø­ÙŠØ« ÙŠØ³Ù‡Ù… ÙÙŠ ØªØ±Ø³ÙŠØ® Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø¹Ù„Ù…ÙŠØ© ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ø¯Ù‰ Ø§Ù„Ø·Ù„Ø§Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ. ÙƒÙ…Ø§ ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø§Ø· Ø¹Ù„Ù‰ ØªØ¨Ø³ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©ØŒ Ù…Ù…Ø§ ÙŠØ³Ù‡Ù„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„Ù… ÙˆÙŠØ¬Ø¹Ù„Ù‡Ø§ Ø£ÙƒØ«Ø± Ù…ØªØ¹Ø© ÙˆÙØ§Ø¦Ø¯Ø©.`,
    secondsPerQuestion: 25,
    questions:[
      {q:"ÙŠØ³Ù‡Ù… Ø§Ù„Ù†Ø´Ø§Ø· ÙÙŠ ØªØ±Ø³ÙŠØ® Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø¹Ø¨Ø±:", a:["Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ","Ø§Ù„Ø­ÙØ¸ ÙÙ‚Ø·","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ¬Ø§Ø±Ø¨"], correct:0},
      {q:"Ø±Ø¨Ø· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰:", a:["ØµØ¹ÙˆØ¨Ø© Ø§Ù„ØªØ¹Ù„Ù…","ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªØ¹Ù„Ù…","Ù…Ù†Ø¹ Ø§Ù„ÙÙ‡Ù…"], correct:1},
      {q:"Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ§Ù„Ù…Ù†Ø§Ù‡Ø¬:", a:["Ù…Ù†ÙØµÙ„Ø©","ÙˆØ«ÙŠÙ‚Ø©","ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©"], correct:1}
    ]
  },
  {
    title:"Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØµÙÙŠ ÙˆØ§Ù„Ù„Ø§ ØµÙÙŠ + Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬",
    content:`ÙŠÙ†ÙØ° Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ ÙˆÙÙ‚: (1) Ù†Ø´Ø§Ø· ØµÙÙŠ ÙÙŠ Ø­ØµØ© Ø§Ù„Ù†Ø´Ø§Ø· ÙˆÙŠØ±ØªØ¨Ø· Ø¨Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ØªÙ…Ø¯ ÙˆÙ…ØªÙˆÙØ± Ø¹Ù„Ù‰ Ø¨ÙˆØ§Ø¨Ø© Ø¹ÙŠÙ†. (2) Ù†Ø´Ø§Ø· Ù„Ø§ ØµÙÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ù†Ø´Ø·Ø© Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù„Ø§ØµÙÙŠØ© Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹Ø© ÙŠÙˆÙ…ÙŠÙ‹Ø§ ÙˆÙ…Ø­ØªÙˆØ§Ù‡Ø§ Ù…Ø¹ØªÙ…Ø¯ ÙˆÙ…ØªÙˆÙØ± Ø¹Ù„Ù‰ Ø¨ÙˆØ§Ø¨Ø© Ø¹ÙŠÙ†.
Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù„Ø§ØµÙÙŠØ©: Ø§Ù„Ù‚ÙŠÙ…ØŒ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ ÙˆØ§Ù„Ø¹Ø§Ø·ÙÙŠØŒ Ø§Ù„Ø°ÙˆÙ‚ Ø§Ù„Ø¹Ø§Ù…ØŒ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ.
ÙˆÙ…Ù† Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªÙ†ÙÙŠØ°: Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØµØ·ÙØ§Ù Ø§Ù„ØµØ¨Ø§Ø­ÙŠØŒ ÙÙŠ Ø§Ù„ÙØ³Ø­ØŒ Ø£Ø«Ù†Ø§Ø¡ ÙØªØ±Ø© Ø§Ù„ØµÙ„Ø§Ø©.
ÙˆØªØ´Ù…Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù„Ø§ØµÙÙŠØ© Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„ÙÙ†ÙŠØ© ÙˆØ§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„ØªØ·ÙˆØ¹ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ©.
Ø·Ø±ÙŠÙ‚Ø© ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬: ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§ÙØŒ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†ÙˆØ¹ØŒ Ø®Ø·Ø© Ø²Ù…Ù†ÙŠØ©ØŒ ØªÙˆÙÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§ØªØŒ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø·Ù„Ø§Ø¨ØŒ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…ØŒ Ø¥Ø¹Ø¯Ø§Ø¯ ØªÙ‚Ø±ÙŠØ± ØªÙˆØ«ÙŠÙ‚ÙŠ.`,
    secondsPerQuestion: 30,
    questions:[
      {q:"Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ Ù…ØªÙˆÙØ± ÙÙŠ:", a:["Ø¨ÙˆØ§Ø¨Ø© Ø¹ÙŠÙ†","Ù…ØµØ¯Ø± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ","Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰"], correct:0},
      {q:"Ø£ÙŠ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ¹Ø¯ Ù…Ù† Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù„Ø§ØµÙÙŠØ©ØŸ", a:["Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ","Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©","Ø§Ù„Ø¬Ø¨Ø± Ø§Ù„Ù…ØªÙ‚Ø¯Ù…"], correct:0},
      {q:"Ù…Ù† Ø®Ø·ÙˆØ§Øª ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬:", a:["ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù†Ø´Ø§Ø· ÙˆØ¥Ø¹Ø¯Ø§Ø¯ ØªÙ‚Ø±ÙŠØ± ØªÙˆØ«ÙŠÙ‚ÙŠ","Ø¥Ù„ØºØ§Ø¡ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø·Ù„Ø§Ø¨","Ø¹Ø¯Ù… ØªØ­Ø¯ÙŠØ¯ Ø£Ù‡Ø¯Ø§Ù"], correct:0}
    ]
  }
];

/* =========================
   Ø§Ù„Ø­Ø§Ù„Ø©
========================= */
let slideIndex = 0;
let quizStarted = false;

let currentQ = 0;             // Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø´Ø±ÙŠØ­Ø©
let totalCorrect = 0;          // Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ØµØ­ÙŠØ­
let totalQuestions = slides.length * 3;

let slideAnswered = [];        // Ù…ØµÙÙˆÙØ© Ø¥Ø¬Ø§Ø¨Ø§Øª ÙƒÙ„ Ø´Ø±ÙŠØ­Ø©: [ [ans,ans,ans], ... ]
let timer = null;
let timeLeft = 0;
let timeTotal = 0;

function $(id){ return document.getElementById(id); }
function pad2(n){ return String(n).padStart(2,'0'); }
function formatTime(sec){ const m=Math.floor(sec/60), s=sec%60; return `${pad2(m)}:${pad2(s)}`; }

function demoFill(){
  $("name").value = "Ù†ÙˆÙ Ø®Ø¨ØªÙŠ";
  $("org").value = "Ù…Ø¯Ø±Ø³Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ©";
  $("email").value = "test@example.com";
}

function startTraining(){
  const name = $("name").value.trim();
  const org  = $("org").value.trim();
  const email= $("email").value.trim();
  if(!name || !org || !email){
    alert("ÙØ¶Ù„Ø§Ù‹ Ø£Ø¯Ø®Ù„ÙŠ Ø§Ù„Ø§Ø³Ù… + Ø¬Ù‡Ø© Ø§Ù„Ø¹Ù…Ù„ + Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.");
    return;
  }

  $("registration").classList.add("hidden");
  $("training").classList.remove("hidden");

  $("slideTotal").textContent = slides.length;

  // ØªÙ‡ÙŠØ¦Ø© Ù…ØµÙÙˆÙØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
  slideAnswered = Array.from({length: slides.length}, ()=> Array(3).fill(null));

  loadSlide();
}

function loadSlide(){
  clearTimer();

  quizStarted = false;
  currentQ = 0;

  $("quizArea").classList.add("hidden");
  $("startQuizRow").classList.remove("hidden");

  const s = slides[slideIndex];

  $("slideIndex").textContent = slideIndex + 1;
  $("slideTitle").textContent = s.title;
  $("slideContent").textContent = s.content;

  // ØªÙ‚Ø¯Ù…: Ù†Ø³Ø¨Ø© Ø¥ÙƒÙ…Ø§Ù„ (Ø´Ø±Ø§Ø¦Ø­ + Ø£Ø³Ø¦Ù„Ø©)
  const answeredCount = slideAnswered.flat().filter(v => v !== null).length;
  const progress = Math.round((answeredCount / totalQuestions) * 100);
  $("progressFill").style.width = progress + "%";

  $("prevSlideBtn").disabled = (slideIndex === 0);
  $("nextSlideBtn").disabled = (slideIndex === slides.length - 1);
}

function prevSlide(){
  if(slideIndex>0){
    slideIndex--;
    loadSlide();
  }
}

function nextSlideOnly(){
  if(slideIndex < slides.length - 1){
    slideIndex++;
    loadSlide();
  }
}

function startQuizForSlide(){
  quizStarted = true;
  $("startQuizRow").classList.add("hidden");
  $("quizArea").classList.remove("hidden");
  renderQuestion();
}

function backToSlide(){
  // Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø´Ø±ÙŠØ­Ø© Ø¨Ø¯ÙˆÙ† ÙÙ‚Ø¯Ø§Ù† Ù…Ø§ Ø§Ø®ØªÙŠØ± ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
  $("quizArea").classList.add("hidden");
  $("startQuizRow").classList.remove("hidden");
  clearTimer();
}

function renderQuestion(){
  clearTimer();

  const s = slides[slideIndex];
  const q = s.questions[currentQ];

  $("qNo").textContent = currentQ + 1;
  $("scoreNow").textContent = totalCorrect;
  $("qTitle").textContent = q.q;

  // Ø®ÙŠØ§Ø±Ø§Øª
  const options = $("options");
  options.innerHTML = "";

  q.a.forEach((txt, idx)=>{
    const label = document.createElement("label");
    label.className = "opt";
    label.innerHTML = `<input type="radio" name="opt" value="${idx}"> ${txt}`;
    options.appendChild(label);
  });

  // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¥Ø°Ø§ Ø³Ø¨Ù‚ Ø§Ø®ØªÙŠØ§Ø±Ù‡Ø§
  const saved = slideAnswered[slideIndex][currentQ];
  if(saved !== null){
    const el = document.querySelector(`input[name="opt"][value="${saved}"]`);
    if(el) el.checked = true;
  }

  // Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
  $("nextQuestionBtn").textContent = (currentQ === 2) ? "Ø¥Ù†Ù‡Ø§Ø¡ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø±ÙŠØ­Ø©" : "Ø§Ù„ØªØ§Ù„ÙŠ";

  // Ø§Ù„ÙˆÙ‚Øª
  timeTotal = s.secondsPerQuestion ?? 25;
  timeLeft  = timeTotal;
  $("timerText").textContent = formatTime(timeLeft);
  $("timerFill").style.width = "100%";

  timer = setInterval(()=>{
    timeLeft--;
    $("timerText").textContent = formatTime(Math.max(0,timeLeft));
    const pct = Math.max(0, (timeLeft / timeTotal) * 100);
    $("timerFill").style.width = pct + "%";

    if(timeLeft <= 0){
      clearTimer();
      // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª: Ø§Ø¹ØªØ¨Ø± ØºÙŠØ± Ù…Ø¬Ø§Ø¨ = Ø®Ø·Ø£ ÙˆØ§Ù†ØªÙ‚Ù„
      autoSaveIfAnyOrNull();
      moveNext();
    }
  }, 1000);
}

function autoSaveIfAnyOrNull(){
  const sel = document.querySelector(`input[name="opt"]:checked`);
  slideAnswered[slideIndex][currentQ] = sel ? parseInt(sel.value,10) : null;
}

function nextQuestion(){
  const sel = document.querySelector(`input[name="opt"]:checked`);
  if(!sel){
    alert("Ø§Ø®ØªØ§Ø±ÙŠ Ø¥Ø¬Ø§Ø¨Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„.");
    return;
  }
  clearTimer();

  // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
  const chosen = parseInt(sel.value,10);
  slideAnswered[slideIndex][currentQ] = chosen;

  moveNext();
}

function moveNext(){
  // Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ (Ø­ØªÙ‰ Ù„Ø§ ØªØªÙƒØ±Ø± Ø¯Ø±Ø¬Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ø±Ø¬ÙˆØ¹)
  totalCorrect = 0;
  slides.forEach((s, si)=>{
    s.questions.forEach((qq, qi)=>{
      const ans = slideAnswered[si][qi];
      if(ans !== null && ans === qq.correct) totalCorrect++;
    });
  });

  // Ø§Ù†ØªÙ‚Ø§Ù„
  if(currentQ < 2){
    currentQ++;
    renderQuestion();
  }else{
    // Ù†Ù‡Ø§ÙŠØ© Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø±ÙŠØ­Ø©
    $("quizArea").classList.add("hidden");
    $("startQuizRow").classList.remove("hidden");

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
    const answeredCount = slideAnswered.flat().filter(v => v !== null).length;
    const progress = Math.round((answeredCount / totalQuestions) * 100);
    $("progressFill").style.width = progress + "%";

    // Ø¥Ø°Ø§ Ø¢Ø®Ø± Ø´Ø±ÙŠØ­Ø© ÙˆØ§Ù†ØªÙ‡Øª Ø£Ø³Ø¦Ù„ØªÙ‡Ø§ -> Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    const allAnswered = (answeredCount === totalQuestions);
    if(allAnswered){
      showResult();
    }else{
      // Ø§Ù†ØªÙ‚Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„ØªØ³Ù‡ÙŠÙ„
      if(slideIndex < slides.length - 1){
        slideIndex++;
        loadSlide();
      }else{
        // Ø¢Ø®Ø± Ø´Ø±ÙŠØ­Ø© Ù„ÙƒÙ† Ù„Ù… ÙŠÙƒØªÙ…Ù„ ÙƒÙ„ Ø´ÙŠØ¡ (Ù„Ø£Ù† ØªØ®Ø·ÙŠ/Ø±Ø¬ÙˆØ¹)
        alert("ØªÙ…Øª Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø«Ù… Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©.");
      }
    }
  }
}

function clearTimer(){
  if(timer){ clearInterval(timer); timer = null; }
}

function showResult(){
  $("training").classList.add("hidden");
  $("result").classList.remove("hidden");

  const percent = (totalCorrect / totalQuestions) * 100;
  const rounded = Math.round(percent);

  const status = (rounded >= PASS_PERCENT)
    ? `<span style="color:#059669;font-weight:900;">Ù†Ø§Ø¬Ø­ âœ…</span>`
    : `<span style="color:#dc2626;font-weight:900;">Ù„Ù… ØªØ­Ù‚Ù‚ Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ âŒ</span>`;

  $("scoreText").innerHTML = `
    Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: <b>${totalCorrect}</b> Ù…Ù† <b>${totalQuestions}</b><br>
    Ø§Ù„Ù†Ø³Ø¨Ø©: <b>${rounded}%</b> â€” ${status}<br>
    Ø´Ø±Ø· Ø§Ù„Ù†Ø¬Ø§Ø­: <b>${PASS_PERCENT}%</b>
  `;

  $("buildCertBtn").disabled = (rounded < PASS_PERCENT);
}

function makeId(){
  return "SA-" + Date.now().toString(36).toUpperCase() + "-" + Math.random().toString(16).slice(2,6).toUpperCase();
}

function buildCertificate(){
  const percent = Math.round((totalCorrect / totalQuestions) * 100);
  if(percent < PASS_PERCENT){
    alert("Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥ØµØ¯Ø§Ø± Ø´Ù‡Ø§Ø¯Ø© Ù‚Ø¨Ù„ ØªØ­Ù‚ÙŠÙ‚ 85%.");
    return;
  }

  const name = $("name").value.trim();
  const org  = $("org").value.trim();
  const date = new Date().toLocaleDateString("ar-SA");
  const certId = makeId();

  $("certName").textContent = name || "â€”";
  $("certOrg").textContent = org || "â€”";
  $("certDate").textContent = date;
  $("certPercent").textContent = percent + "%";
  $("certId").textContent = certId;

  // Ø´Ø¹Ø§Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  const logoEl = $("certLogo");
  if(CERT_LOGO_URL){
    logoEl.src = CERT_LOGO_URL;
  }else{
    // Ù„Ùˆ Ù…Ø§ ÙÙŠÙ‡ Ø´Ø¹Ø§Ø±ØŒ Ø®Ù„ÙŠ Ù…ÙƒØ§Ù†Ù‡ ÙØ§Ø±Øº Ø¨Ø´ÙƒÙ„ Ù„Ø·ÙŠÙ
    logoEl.style.opacity = .25;
    logoEl.alt = "Ø¶Ø¹ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù‡Ø© Ù‡Ù†Ø§";
    logoEl.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="280" height="140">
        <rect width="100%" height="100%" fill="white"/>
        <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle"
              font-family="Arial" font-size="18" fill="#6b7280">Ø¶Ø¹ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù‡Ø© Ù‡Ù†Ø§</text>
      </svg>
    `);
  }

  $("certShell").classList.remove("hidden");

  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© ÙÙŠ Google Sheet
  logCompletion({
    name, org,
    email: $("email").value.trim(),
    percent,
    certId,
    date
  }).catch(()=>{ /* ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ø®Ø·Ø£ Ù„Ùˆ Ù…Ø§ Ø¶Ø¨Ø· Ø§Ù„Ø±Ø§Ø¨Ø· */ });

  setTimeout(()=> $("certShell").scrollIntoView({behavior:"smooth"}), 120);
}

async function downloadPDF(){
  const el = $("certificate");
  const canvas = await html2canvas(el, {scale: 2});
  const imgData = canvas.toDataURL("image/png");
  const { jsPDF } = window.jspdf;

  const pdf = new jsPDF({
    orientation: "landscape",
    unit: "pt",
    format: "a4"
  });

  const pageW = pdf.internal.pageSize.getWidth();
  const pageH = pdf.internal.pageSize.getHeight();

  const imgW = canvas.width;
  const imgH = canvas.height;
  const ratio = Math.min(pageW / imgW, pageH / imgH);
  const w = imgW * ratio;
  const h = imgH * ratio;
  const x = (pageW - w) / 2;
  const y = (pageH - h) / 2;

  pdf.addImage(imgData, "PNG", x, y, w, h);
  pdf.save("Ø´Ù‡Ø§Ø¯Ø©-Ø§Ù„Ù†Ø´Ø§Ø·-Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ.pdf");
}

function restart(){
  clearTimer();
  slideIndex = 0;
  quizStarted = false;
  currentQ = 0;
  totalCorrect = 0;
  slideAnswered = [];
  $("certShell").classList.add("hidden");

  $("result").classList.add("hidden");
  $("registration").classList.remove("hidden");
}

/* =========================
   ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© (Google Sheets)
========================= */
async function logCompletion(payload){
  if(!LOG_ENDPOINT || LOG_ENDPOINT.includes("PASTE_YOUR_APPS_SCRIPT")){
    console.warn("LOG_ENDPOINT not set");
    return;
  }

  // POST JSON
  await fetch(LOG_ENDPOINT, {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      event: "CERT_ISSUED",
      ts: new Date().toISOString(),
      ...payload
    }),
    mode: "cors"
  });
}
</script>
</body>
</html>
